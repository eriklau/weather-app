(()=>{"use strict";const e=document.getElementById("search"),t=document.getElementById("input");e.addEventListener("click",(async()=>{if(""===t.value)return;const e=await async function(e){const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=9c332234d3ad4afab61151358231105&q=${e}`,{mode:"cors"});try{if(!t.ok)throw new Error("City not found");const n=await t.json();console.log(n);const c=n.location.localtime.slice(-5).trim(),i=n.current.condition.icon,r=n.current.temp_c;return{cityName:e,time:c,weatherIcon:i,degreesCelsius:r,degreesCelsiusFeelsLike:n.current.feelslike_c,windKph:n.current.wind_kph,precipitation:n.current.precip_mm}}catch(e){return alert(e),null}}(t.value);console.log(e.degreesCelsius),function(e){const t=document.getElementById("content"),n=document.createElement("div"),c=document.createElement("h1"),i=document.createElement("img"),r=document.createElement("p"),o=document.createElement("p"),a=document.createElement("p"),s=document.createElement("p"),l=document.createElement("p");n.classList="weather-box",c.classList="city-name",r.classList="city-time",c.textContent=`${e.cityName}`.toUpperCase(),i.src=`https:${e.weatherIcon}`,r.textContent=`Time: ${function(e){if(":"==e[2]){let t=parseInt(e.slice(0,2));return t>12?(t%12).toString()+e.slice(-3)+" PM":e+" PM"}return"0"==e[0]?"12"+e.slice(-3)+" AM":e+" AM"}(e.time)}`,o.textContent=`Temperature: ${e.degreesCelsius}°C`,a.textContent=`Feels like: ${e.degreesCelsiusFeelsLike}°C`,s.textContent=`Wind: ${e.windKph} km/h`,l.textContent=`Precipitation: ${e.precipitation} mm`,n.appendChild(c),n.appendChild(i),n.appendChild(r),n.appendChild(o),n.appendChild(a),n.appendChild(s),n.appendChild(l);const d=document.querySelector(".weather-box");d?d.replaceWith(n):t.appendChild(n)}(e)}))})();